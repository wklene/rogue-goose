<div class="w-full h-full p-4">
    <div class="mb-4">
        @if (lobby().gameState?.winner; as winner) {
        <div class="flex items-center space-x-4">
            <h2 class="text-2xl font-bold text-green-600">
                {{ winner }} wins!
            </h2>
            @if (isHost()) {
            <button
                (click)="onRestartGame()"
                class="bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded"
            >
                Restart Game
            </button>
            }
        </div>
        } @else {
        <div class="flex items-center space-x-4">
            <button
                (click)="onRollDice()"
                [disabled]="!isMyTurn()"
                class="bg-blue-400 hover:bg-blue-500 text-white font-bold py-2 px-4 rounded disabled:bg-gray-400"
            >
                Roll Dice
            </button>
            @if (isHost()) {
            <button
                (click)="onRestartGame()"
                class="bg-gray-500 hover:bg-gray-700 text-white font-bold py-2 px-4 rounded"
            >
                Restart Game
            </button>
            }
            <div class="dice-container">
                <div class="dice" [class.rolling]="isRolling()">
                    {{ lobby().gameState?.lastDiceRoll || '?' }}
                </div>
            </div>
            <div>
                <p>
                    Current Turn:
                    <strong>
                        {{ currentPlayerName() }}
                    </strong>
                </p>
                @if (lobby().gameState?.lastDiceRoll; as roll) {
                <p>
                    Last Roll: <strong>{{ roll }}</strong>
                </p>
                }
            </div>
        </div>
        }
    </div>
    <div class="game-board">
        @for(square of boardSquares; track square) {
        <div class="board-square">
            <span class="square-number">{{ square }}</span>
        </div>
        } @for(player of players(); track player.id) {
        <div
            class="player-pawn"
            [style.background-color]="player.color || '#808080'"
            [style.transform]="getPlayerTransform(player.position || 0)"
        ></div>
        }
    </div>
</div>
